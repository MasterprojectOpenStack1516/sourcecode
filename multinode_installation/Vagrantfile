Vagrant.configure("2") do |config|
  config.vm.define :datacenter1 do |datacenter|
    datacenter.vm.box = "sputnik13/trusty64"
    datacenter.vm.provider :libvirt do |domain|
      domain.memory = 26000
      domain.cpus = 16
      domain.nested = true
      domain.volume_cache = 'none'
    end
  end

  config.vm.define :datacenter2 do |datacenter|
    datacenter.vm.box = "sputnik13/trusty64"
    datacenter.vm.provider :libvirt do |domain|
      domain.memory = 26000
      domain.cpus = 16
      domain.nested = true
      domain.volume_cache = 'none'
    end
  end

	config.vm.provision :ansible do |ansible|
		ansible.playbook = "playbook.yml"
    # https://gist.github.com/phantomwhale/9657134
    ansible.raw_arguments = Shellwords.shellsplit(ENV['ANSIBLE_ARGS']) if ENV['ANSIBLE_ARGS']
	end
end
